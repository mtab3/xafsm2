\documentclass[titlepage,a4paper,12pt]{jarticle}
\usepackage{my}
\usepackage{hangcaption}
\usepackage{wrapfloat}
\usepackage[dvipdfm]{graphics}
\usepackage{txfonts}

\setlength{\topmargin}{0cm}
\setlength{\oddsidemargin}{-0.79cm}
\setlength{\evensidemargin}{-0.79cm}
\setlength{\textheight}{23cm}
\setlength{\textwidth}{17.5cm}
\newcommand{\TWpt}{1.0}        % jarticle
\pagestyle{headings}

\renewcommand{\topfraction}{0.99}
\renewcommand{\bottomfraction}{0.99}
\renewcommand{\textfraction}{0.00}
\renewcommand{\floatpagefraction}{.99}
\renewcommand{\dbltopfraction}{0.99}
\renewcommand{\dblfloatpagefraction}{.99}

\renewcommand{\textfloatsep}{0.3cm}
\renewcommand{\dbltextfloatsep}{0.3cm}

\title{
  {\gt\fontsize{120pt}{0pt}\selectfont
    XafsM2 \\}
  \vspace*{1cm}
  {\LARGE
    Introduction to \\
    XAFS measurement program Ver. 2\\
    Manual version 0.0
  }
  \vspace*{0.8cm}
}
\author{名古屋大学シンクロトロン光研究センター\\田渕雅夫}
\date{                            2013/1/14 }

\begin{document}

\pagenumbering{roman}
\maketitle
\tableofcontents

%----------------------------------------------------------------------------
\newpage
\pagenumbering{arabic}
\setcounter{page}{1}
%----------------------------------------------------------------------------

\section{はじめに}

中部シンクロトロンでの実際のビームライン建設が始まる前に
硬X線XAFSラインで測定を行う際の、メインの測定プログラムの具体的な雛形として、
周辺機器との通信部分を仮想的に扱った XafsM を作成しました。
その後 2012年にビームラインの建設が進み、ビームラインの光学素子から
エンドステーションの測定系までの整備が行われた時点で再び測定制御ブログラムの作成を
再開しました。
その際、約2年プログラムを放置したこと、その間に行ったビームラインコントローラ BLC2
の開発を通じて、制御対象との通信方法などでXafsMで想定していた手続きよりも
もっと良いやり方があることが分かってきたことなどから、内部構造の大改定を行い、
プログラムの呼称も XafsM2 に改めることとしました。
とはいえ、かなりの部分まで練り込んで作った XafsM を完全には捨てられず、
古いコードに自分でも苛立ちを感じつつ、半分以上の部分は XafsM のコードを再利用したため、
全体的にあまり綺麗でないツギハギ感の強いコードになってしまいました。
この点を反省して、将来 XafsM3 がありえるかもしれませんが、当面は XafsM2 を
より利用しやすくするための改良に専念するつもりです。

現時点でも改良すべきと感じている点はメモ書きで20点を超えますので、
本当ならば、今の時点でドキュメントを作成するのは得策ではありません。
しかし、2013年の春を迎え、ビームラインの供用開始が迫っているため、
仮の版であったとしてもマニュアルを作成しておくことにしました。



\section{XafsM2 の概要}

図\ref{XafsM2の概観}に XafsM2 起動時の概観を示します。

XafsM2 では、「XAFS 測定を行う」という事以外に、
できるだけ測定に関わる事柄を統一的に行えるようにすることを目標にしています。
そのため、「測定条件を決める」、「検出器の調整を行う」、
「プログラムや制御対象の状態を把握する」
など多くの機能を持たせました。
この様な多くの機能をできるだけ簡便に利用できるようにするため、
それぞれの機能を目的ごとにグループ分けしブロック化して提示するようになっています。

図\ref{XafsM2の概観}に示す様に、GUI の画面は、メニューバーの下に
3段のブロックをなす構造になっています。
1段目、画面上部にまとめられているのは、
XAFS の測定で最も重要となる、測定対象元素、吸収端の選択と
現在の入射X線エネルギー表示で、常に表示されます。



\FIG{b}{
  \hfil\scalebox{\TWpt}{\scalebox{0.5}{\includegraphics{OutLook1.png}}}
  \caption{XafsM2の概観}\label{XafsM2の概観}
}


\end{document}
